(this["webpackJsonpmy-chat"]=this["webpackJsonpmy-chat"]||[]).push([[0],[,,,function(e,t,a){e.exports={chatContainer:"chat-content_chatContainer__Amo5g",receivedWrapper:"chat-content_receivedWrapper__cEnNO",sentWrapper:"chat-content_sentWrapper__2UNj-",messageDetails:"chat-content_messageDetails__1-ksd",textReceived:"chat-content_textReceived__1oWZV",textSent:"chat-content_textSent__2Cakc",timeReceived:"chat-content_timeReceived__36cq5",timeSent:"chat-content_timeSent__1Dlfn"}},function(e,t,a){e.exports={contactsContainer:"contacts_contactsContainer__38Fq7",messageContainer:"contacts_messageContainer__KChwu",messageContainerActive:"contacts_messageContainerActive__28FtB",contentWrapper:"contacts_contentWrapper__2TyLV",content:"contacts_content__9CC3S",message:"contacts_message__3FSZf",date:"contacts_date__2kKnx"}},,,function(e,t,a){e.exports={avatar:"search-bar_avatar__2Pe8A",searchBarContainer:"search-bar_searchBarContainer__3Vlhi",searchInput:"search-bar_searchInput__11KSw",searchInputText:"search-bar_searchInputText__19xxX"}},,function(e,t,a){e.exports={messageContainer:"message-bar_messageContainer__3YW3M",sendInput:"message-bar_sendInput__3GB7G",sendInputText:"message-bar_sendInputText__3h5xu"}},,,,,,function(e,t,a){e.exports={containerLeftSide:"left-side_containerLeftSide__1iSe-"}},function(e,t,a){e.exports={avatar:"avatar_avatar__1QlmY"}},function(e,t,a){e.exports={container:"chat_container__2lJ3D"}},function(e,t,a){e.exports={headerContainer:"header_headerContainer__2UoPr"}},,,function(e){e.exports=JSON.parse('{"chats":[{"person":{"id":1,"icon":"https://olhasi.github.io/my-chat/img/0.jpeg","name":"Josefina"},"messages":[{"id":100,"message":"Hi! How are you?","timestamp":1621947600000,"type":"received"},{"id":101,"message":"Hi, I\'m fine. Thanks. And you?","timestamp":1621948200000,"type":"sent"},{"id":102,"message":"Me too","timestamp":1621948800000,"type":"received"}]},{"person":{"id":2,"icon":"https://olhasi.github.io/my-chat/img/3.jpeg","name":"Alice Kaufmann"},"messages":[{"id":200,"message":"Do you have any ideas?","timestamp":1627893000000,"type":"received"},{"id":201,"message":"I don\'t know","timestamp":1627893300000,"type":"sent"},{"id":202,"message":"Ok. Let\'s speak another time","timestamp":1627893900000,"type":"received"},{"id":2,"message":"Bye","timestamp":1627894080000,"type":"sent"}]},{"person":{"id":3,"icon":"https://olhasi.github.io/my-chat/img/2.jpeg","name":"Robert "},"messages":[{"id":300,"message":"Hello","timestamp":1626764400000,"type":"received"},{"id":301,"message":"Hi. Nice to hear from you","timestamp":1626768000000,"type":"sent"},{"id":302,"message":"Do you have any plans for a weekend?","timestamp":1626768600000,"type":"received"}]},{"person":{"id":4,"icon":"https://olhasi.github.io/my-chat/img/1.jpeg","name":"Fabian Mueller"},"messages":[{"id":400,"message":"Hello!","timestamp":1631787600000,"type":"received"},{"id":401,"message":"Bye!","timestamp":1631788800000,"type":"sent"}]},{"person":{"id":5,"icon":"https://olhasi.github.io/my-chat/img/4.jpeg","name":"Daniel"},"messages":[{"id":500,"message":"Hi. How are you doing?","timestamp":1631439600000,"type":"sent"},{"id":501,"message":"Nice, thanks","timestamp":1631443200000,"type":"received"}]},{"person":{"id":6,"icon":"https://olhasi.github.io/my-chat/img/5.jpeg","name":"Patricia Kaas"},"messages":[{"id":600,"message":"Thanks for your help","timestamp":1631373000000,"type":"sent"}]},{"person":{"id":7,"icon":"https://olhasi.github.io/my-chat/img/6.jpeg","name":"Carlo Muratto"},"messages":[{"id":700,"message":"See you tomorrow","timestamp":1628683800000,"type":"received"},{"id":701,"message":"Bye. Have a nice day!","timestamp":1628684100000,"type":"sent"}]}]}')},function(e,t,a){e.exports={App:"App_App__16ZpL"}},,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(14),i=a.n(c),r=(a(28),a(23)),o=a(13),m=a(5),p=a(15),d=a.n(p),u=a(7),h=a.n(u),l=a(11),j=a(1),g=function(e){var t=e.onFilter,a=Object(s.useCallback)((function(e){t(e.target.value)}),[t]);return Object(j.jsxs)("div",{className:h.a.searchBarContainer,children:[Object(j.jsx)("div",{className:h.a.avatar,children:Object(j.jsx)(l.b,{size:"50px",color:"slategrey"})}),Object(j.jsxs)("div",{className:h.a.searchInput,children:[Object(j.jsx)(l.a,{size:"12px",color:"silver"}),Object(j.jsx)("input",{className:h.a.searchInputText,placeholder:"Search or start new chat",type:"text",onChange:a})]})]})},v=a(4),b=a.n(v),_=a(16),f=a.n(_),x=function(e){var t=e.src;return Object(j.jsx)("img",{src:t,alt:"avatar",className:f.a.avatar})},O=function(e){var t=e.chats,a=e.activeChat,n=e.setActiveChat,c=Object(s.useCallback)((function(e){n(e)}),[n]);return Object(j.jsxs)("div",{className:b.a.contactsContainer,children:[Object(j.jsx)("p",{children:"Chats"}),t.map((function(e){var t,s=e.person,n=e.messages,i=b.a.messageContainer;return s.id===a.person.id&&(i+=" "+b.a.messageContainerActive),Object(j.jsxs)("div",{className:i,onClick:c.bind({},e),children:[Object(j.jsxs)("div",{className:b.a.contentWrapper,children:[Object(j.jsx)(x,{src:s.icon}),Object(j.jsxs)("div",{className:b.a.content,children:[Object(j.jsx)("div",{children:s.name}),n.length>0&&Object(j.jsx)("div",{className:b.a.message,children:n[n.length-1].message})]})]}),n.length>0&&Object(j.jsx)("div",{className:b.a.date,children:(t=n[n.length-1].timestamp,new Date(t).toDateString())})]},s.id)}))]})},C=function(e){var t=e.chats,a=e.activeChat,n=e.setActiveChat,c=Object(s.useState)(t),i=Object(m.a)(c,2),r=i[0],o=i[1];Object(s.useEffect)((function(){o(t)}),[t]);var p=Object(s.useCallback)((function(e){if(""===e)o(t);else{var a=[];t.forEach((function(t){t.person.name.toLowerCase().includes(e.toLowerCase())&&a.push(t)})),o(a)}}),[t]);return Object(j.jsxs)("div",{className:d.a.containerLeftSide,children:[Object(j.jsx)(g,{onFilter:p}),Object(j.jsx)(O,{chats:r,activeChat:a,setActiveChat:n})]})},y=a(17),N=a.n(y),k=a(18),S=a.n(k),w=function(e){var t=e.person;return Object(j.jsxs)("div",{className:S.a.headerContainer,children:[Object(j.jsx)(x,{src:t.icon}),Object(j.jsx)("span",{children:t.name})]})},I=a(3),A=a.n(I),D=function(e){return new Date(e).toLocaleString()},T=function(e){var t=e.activeChat,a=t.messages,s=t.person;return Object(j.jsx)("div",{className:A.a.chatContainer,children:null===a||void 0===a?void 0:a.map((function(e){return e?"received"===e.type?Object(j.jsxs)("div",{className:A.a.receivedWrapper,children:[Object(j.jsxs)("div",{className:A.a.messageDetails,children:[Object(j.jsx)(x,{src:null===s||void 0===s?void 0:s.icon}),Object(j.jsx)("div",{className:A.a.textReceived,children:e.message})]}),Object(j.jsx)("div",{className:A.a.timeReceived,children:D(e.timestamp)})]},e.id):Object(j.jsxs)("div",{className:A.a.sentWrapper,children:[Object(j.jsx)("div",{className:A.a.textSent,children:e.message}),Object(j.jsx)("div",{className:A.a.timeSent,children:D(e.timestamp)})]},e.id):null}))})},L=a(9),W=a.n(L),B=a(20),F=a(12),M=a.n(F),H=a(19);function E(){return(E=Object(H.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(e){var t=e.addNewMessage,a=e.activeChat,n=Object(s.useRef)(null),c=Object(s.useState)({}),i=Object(m.a)(c,2),r=i[0],o=i[1];Object(s.useEffect)((function(){t(r.joke,"received",r.pId)}),[r]);var p=Object(s.useCallback)((function(e){return setTimeout((function(){(function(){return E.apply(this,arguments)})().then((function(e){return e.json()})).then((function(t){o({pId:e,joke:t.value})}))}),5e3)}),[]);Object(s.useEffect)((function(){n.current.value=""}),[a.person.id]);var d=Object(s.useCallback)((function(){t(n.current.value,"sent",a.person.id),n.current.value="",p(a.person.id)}),[a.person.id,t,p]),u=Object(s.useCallback)((function(){""!==n.current.value&&d()}),[d]),h=Object(s.useCallback)((function(e){""!==n.current.value&&"Enter"===e.key&&d()}),[d]);return Object(j.jsx)("div",{className:W.a.messageContainer,children:Object(j.jsxs)("div",{className:W.a.sendInput,children:[Object(j.jsx)(B.a,{size:"20px",color:"slategrey",onClick:u}),Object(j.jsx)("input",{ref:n,onKeyDown:h,className:W.a.sendInputText,placeholder:"Type your message",type:"text"})]})})},J=function(e){var t=e.activeChat,a=e.addNewMessage;return Object(j.jsxs)("div",{className:N.a.container,children:[Object(j.jsx)(w,{person:t.person}),Object(j.jsx)(T,{activeChat:t,addNewMessage:a}),Object(j.jsx)(R,{activeChat:t,addNewMessage:a})]})},K=a(21),P=a(22),z=a.n(P),V="local-chats",Z=localStorage.getItem(V),q=Z?JSON.parse(Z):void 0,G=function(){var e=Object(s.useState)(q||K.chats),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(a[0]),i=Object(m.a)(c,2),p=i[0],d=i[1],u=Object(s.useCallback)((function(e){var t=function(e){return e.sort((function(e,t){return t.messages[t.messages.length-1].timestamp-e.messages[e.messages.length-1].timestamp}))}(e);localStorage.setItem(V,JSON.stringify(t)),n(t)}),[]),h=Object(s.useCallback)((function(e,t,s){var n=[];a.forEach((function(a){if(a.person.id===s){var c=+new Date;n.push(Object(o.a)(Object(o.a)({},a),{},{messages:[].concat(Object(r.a)(a.messages),[{id:c,message:e,timestamp:c,type:t}])}))}else n.push(a)})),u(n)}),[a,u]);return Object(j.jsxs)("div",{className:z.a.App,children:[Object(j.jsx)(C,{chats:a,activeChat:p,setActiveChat:d}),Object(j.jsx)(J,{activeChat:p,addNewMessage:h})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,32)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root")),U()}],[[31,1,2]]]);
//# sourceMappingURL=main.f42582ed.chunk.js.map