(this["webpackJsonpmy-chat"]=this["webpackJsonpmy-chat"]||[]).push([[0],[,,,function(e,t,a){e.exports={chatContainer:"chat-content_chatContainer__Amo5g",receivedWrapper:"chat-content_receivedWrapper__cEnNO",sentWrapper:"chat-content_sentWrapper__2UNj-",messageDetails:"chat-content_messageDetails__1-ksd",textReceived:"chat-content_textReceived__1oWZV",textSent:"chat-content_textSent__2Cakc",timeReceived:"chat-content_timeReceived__36cq5",timeSent:"chat-content_timeSent__1Dlfn"}},function(e,t,a){e.exports={contactsContainer:"contacts_contactsContainer__38Fq7",messageContainer:"contacts_messageContainer__KChwu",messageContainerActive:"contacts_messageContainerActive__28FtB",contentWrapper:"contacts_contentWrapper__2TyLV",content:"contacts_content__9CC3S",message:"contacts_message__3FSZf",date:"contacts_date__2kKnx"}},,function(e,t,a){e.exports={avatar:"search-bar_avatar__2Pe8A",searchBarContainer:"search-bar_searchBarContainer__3Vlhi",searchInput:"search-bar_searchInput__11KSw",searchInputText:"search-bar_searchInputText__19xxX"}},function(e,t,a){e.exports={messageContainer:"message-bar_messageContainer__3YW3M",sendInput:"message-bar_sendInput__3GB7G",sendInputText:"message-bar_sendInputText__3h5xu"}},,,,,function(e,t,a){e.exports={containerLeftSide:"left-side_containerLeftSide__1iSe-"}},function(e,t,a){e.exports={avatar:"avatar_avatar__1QlmY"}},function(e,t,a){e.exports={container:"chat_container__2lJ3D"}},function(e,t,a){e.exports={headerContainer:"header_headerContainer__2UoPr"}},,,function(e){e.exports=JSON.parse('{"chats":[{"person":{"id":1,"icon":"https://olhasi.github.io/my-chat/img/0.jpeg","name":"Josefina"},"messages":[{"id":100,"message":"Hi! How are you?","timestamp":1621947600000,"type":"received"},{"id":101,"message":"Hi, I\'m fine. Thanks. And you?","timestamp":1621948200000,"type":"sent"},{"id":102,"message":"Me too","timestamp":1621948800000,"type":"received"}]},{"person":{"id":2,"icon":"https://olhasi.github.io/my-chat/img/3.jpeg","name":"Alice Kaufmann"},"messages":[{"id":200,"message":"Do you have any ideas?","timestamp":1627893000000,"type":"received"},{"id":201,"message":"I don\'t know","timestamp":1627893300000,"type":"sent"},{"id":202,"message":"Ok. Let\'s speak another time","timestamp":1627893900000,"type":"received"},{"id":2,"message":"Bye","timestamp":1627894080000,"type":"sent"}]},{"person":{"id":3,"icon":"https://olhasi.github.io/my-chat/img/2.jpeg","name":"Robert "},"messages":[{"id":300,"message":"Hello","timestamp":1626764400000,"type":"received"},{"id":301,"message":"Hi. Nice to hear from you","timestamp":1626768000000,"type":"sent"},{"id":302,"message":"Do you have any plans for a weekend?","timestamp":1626768600000,"type":"received"}]},{"person":{"id":4,"icon":"https://olhasi.github.io/my-chat/img/1.jpeg","name":"Fabian Mueller"},"messages":[{"id":400,"message":"Hello!","timestamp":1631787600000,"type":"received"},{"id":401,"message":"Bye!","timestamp":1631788800000,"type":"sent"}]},{"person":{"id":5,"icon":"https://olhasi.github.io/my-chat/img/4.jpeg","name":"Daniel"},"messages":[{"id":500,"message":"Hi. How are you doing?","timestamp":1631439600000,"type":"sent"},{"id":501,"message":"Nice, thanks","timestamp":1631443200000,"type":"received"}]},{"person":{"id":6,"icon":"https://olhasi.github.io/my-chat/img/5.jpeg","name":"Patricia Kaas"},"messages":[{"id":600,"message":"Thanks for your help","timestamp":1631373000000,"type":"sent"}]},{"person":{"id":7,"icon":"https://olhasi.github.io/my-chat/img/6.jpeg","name":"Carlo Muratto"},"messages":[{"id":700,"message":"See you tomorrow","timestamp":1628683800000,"type":"received"},{"id":701,"message":"Bye. Have a nice day!","timestamp":1628684100000,"type":"sent"}]}]}')},function(e,t,a){e.exports={App:"App_App__16ZpL"}},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(11),i=a.n(c),r=(a(24),a(5)),o=a(12),m=a.n(o),p=a(6),d=a.n(p),u=a(9),h=a(1),l=function(e){var t=e.onFilter,a=Object(s.useCallback)((function(e){t(e.target.value)}),[t]);return Object(h.jsxs)("div",{className:d.a.searchBarContainer,children:[Object(h.jsx)("div",{className:d.a.avatar,children:Object(h.jsx)(u.b,{size:"50px",color:"slategrey"})}),Object(h.jsxs)("div",{className:d.a.searchInput,children:[Object(h.jsx)(u.a,{size:"12px",color:"silver"}),Object(h.jsx)("input",{className:d.a.searchInputText,placeholder:"Search or start new chat",type:"text",onChange:a})]})]})},j=a(4),v=a.n(j),g=a(13),b=a.n(g),_=function(e){var t=e.src;return Object(h.jsx)("img",{src:t,alt:"avatar",className:b.a.avatar})},f=function(e){var t=e.chatsArray,a=e.activeChat,n=e.setActiveChat,c=Object(s.useCallback)((function(e){n(e)}),[n]);return Object(h.jsxs)("div",{className:v.a.contactsContainer,children:[Object(h.jsx)("p",{children:"Chats"}),t.map((function(e){var t,s=e.person,n=e.messages,i=v.a.messageContainer;return s.id===a.person.id&&(i+=" "+v.a.messageContainerActive),Object(h.jsxs)("div",{className:i,onClick:function(){return c(e)},children:[Object(h.jsxs)("div",{className:v.a.contentWrapper,children:[Object(h.jsx)(_,{src:s.icon}),Object(h.jsxs)("div",{className:v.a.content,children:[Object(h.jsx)("div",{children:s.name}),n.length>0&&Object(h.jsx)("div",{className:v.a.message,children:n[n.length-1].message})]})]}),n.length>0&&Object(h.jsx)("div",{className:v.a.date,children:(t=n[n.length-1].timestamp,new Date(t).toDateString())})]},s.id)}))]})},x=function(e){var t=e.chatsArray,a=e.activeChat,n=e.setActiveChat,c=Object(s.useState)(t),i=Object(r.a)(c,2),o=i[0],p=i[1];Object(s.useEffect)((function(){p(t)}),[t]);var d=Object(s.useCallback)((function(e){if(""===e)p(t);else{var a=[];t.forEach((function(t){t.person.name.toLowerCase().includes(e.toLowerCase())&&a.push(t)})),p(a)}}),[t]);return Object(h.jsxs)("div",{className:m.a.containerLeftSide,children:[Object(h.jsx)(l,{onFilter:d}),Object(h.jsx)(f,{chatsArray:o,activeChat:a,setActiveChat:n})]})},O=a(14),y=a.n(O),C=a(15),N=a.n(C),k=function(e){var t=e.person;return Object(h.jsxs)("div",{className:N.a.headerContainer,children:[Object(h.jsx)(_,{src:t.icon}),Object(h.jsx)("span",{children:t.name})]})},S=a(3),w=a.n(S),I=function(e){return new Date(e).toLocaleString()},A=function(e){var t=e.activeChat,a=t.messages,s=t.person;return Object(h.jsx)("div",{className:w.a.chatContainer,children:null===a||void 0===a?void 0:a.map((function(e){return e?"received"===e.type?Object(h.jsxs)("div",{className:w.a.receivedWrapper,children:[Object(h.jsxs)("div",{className:w.a.messageDetails,children:[Object(h.jsx)(_,{src:null===s||void 0===s?void 0:s.icon}),Object(h.jsx)("div",{className:w.a.textReceived,children:e.message})]}),Object(h.jsx)("div",{className:w.a.timeReceived,children:I(e.timestamp)})]},e.id):Object(h.jsxs)("div",{className:w.a.sentWrapper,children:[Object(h.jsx)("div",{className:w.a.textSent,children:e.message}),Object(h.jsx)("div",{className:w.a.timeSent,children:I(e.timestamp)})]},e.id):null}))})},D=a(7),T=a.n(D),L=a(17),W=a(10),B=a.n(W),F=a(16);function M(){return(M=Object(F.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){var t=e.addNewMessage,a=e.activeChat,n=Object(s.useRef)(null),c=Object(s.useState)({}),i=Object(r.a)(c,2),o=i[0],m=i[1];Object(s.useEffect)((function(){t(o.joke,"received",o.pId)}),[o]);var p=Object(s.useCallback)((function(e){return setTimeout((function(){(function(){return M.apply(this,arguments)})().then((function(e){return e.json()})).then((function(t){m({pId:e,joke:t.value})}))}),5e3)}),[]);Object(s.useEffect)((function(){n.current.value=""}),[a.person.id]);var d=Object(s.useCallback)((function(){t(n.current.value,"sent",a.person.id),n.current.value="",p(a.person.id)}),[a.person.id,t,p]),u=Object(s.useCallback)((function(){""!==n.current.value&&d()}),[d]),l=Object(s.useCallback)((function(e){""!==n.current.value&&"Enter"===e.key&&d()}),[d]);return Object(h.jsx)("div",{className:T.a.messageContainer,children:Object(h.jsxs)("div",{className:T.a.sendInput,children:[Object(h.jsx)(L.a,{size:"20px",color:"slategrey",onClick:u}),Object(h.jsx)("input",{ref:n,onKeyDown:l,className:T.a.sendInputText,placeholder:"Type your message",type:"text"})]})})},E=function(e){var t=e.activeChat,a=e.addNewMessage;return Object(h.jsxs)("div",{className:y.a.container,children:[Object(h.jsx)(k,{person:t.person}),Object(h.jsx)(A,{activeChat:t,addNewMessage:a}),Object(h.jsx)(H,{activeChat:t,addNewMessage:a})]})},R=a(18),J=a(19),K=a.n(J),P="local-chats",z=localStorage.getItem(P),V=z?JSON.parse(z):void 0,Z=function(){var e=Object(s.useState)(V||R.chats),t=Object(r.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(a[0]),i=Object(r.a)(c,2),o=i[0],m=i[1],p=Object(s.useCallback)((function(e){var t=function(e){return e.sort((function(e,t){return t.messages[t.messages.length-1].timestamp-e.messages[e.messages.length-1].timestamp}))}(e);localStorage.setItem(P,JSON.stringify(t)),n(t);var a=e.find((function(e){return e.person.id===o.person.id}));m(a)}),[o.person.id]),d=Object(s.useCallback)((function(e,t,s){var n=[];a.forEach((function(a){if(a.person.id===s){var c=+new Date,i={id:c,message:e,timestamp:c,type:t};a.messages.push(i)}n.push(a)})),p(n)}),[a,p]);return Object(h.jsxs)("div",{className:K.a.App,children:[Object(h.jsx)(x,{chatsArray:a,activeChat:o,setActiveChat:m}),Object(h.jsx)(E,{activeChat:o,addNewMessage:d})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(Z,{})}),document.getElementById("root")),q()}],[[27,1,2]]]);
//# sourceMappingURL=main.5d0136da.chunk.js.map